{% extends "app/layout.html" %}

{% block content %}
<body class="bg-gray-100 text-gray-800">
    <!-- 頁首 -->
    <header class="bg-white shadow p-4 flex justify-between items-center">
        <h1 class="text-2xl font-bold text-indigo-600">教會會員管理系統</h1>
        <div class="flex space-x-4">
            {% if user.is_authenticated %}
            <span class="text-sm">歡迎，{{ user.username }}</span>
            <a href="{% url 'logout' %}" class="text-red-500 hover:underline">登出</a>
            {% else %}
            <a href="{% url 'login' %}" class="text-indigo-500 hover:underline">登入</a>
            {% endif %}
        </div>
    </header>

    <!-- 功能選單 -->
    <nav class="bg-indigo-100 px-4 py-2 flex space-x-6 text-sm">
        <a href="{% url 'members:list' %}" class="hover:text-indigo-600">會員資料</a>
        <a href="{% url 'attendance:list' %}" class="hover:text-indigo-600">出席記錄</a>
        <a href="{% url 'offerings:list' %}" class="hover:text-indigo-600">奉獻管理</a>
        <a href="{% url 'events:list' %}" class="hover:text-indigo-600">活動課程</a>
        <a href="{% url 'announcements:list' %}" class="hover:text-indigo-600">公告管理</a>
    </nav>

    <!-- 公告區 -->
    <main class="p-6">
        <h2 class="text-xl font-semibold mb-4">📢 最新公告</h2>
        <div class="space-y-4">
            {% for announcement in announcements %}
            <div class="bg-white shadow p-4 rounded">
                <h3 class="font-bold text-lg">{{ announcement.title }}</h3>
                <p class="text-sm text-gray-500">{{ announcement.posted_at|date:"Y-m-d H:i" }}</p>
                <p class="mt-2">{{ announcement.content }}</p>
            </div>
            {% empty %}
            <p class="text-gray-500">目前沒有公告。</p>
            {% endfor %}
        </div>
    </main>

    {% endblock %}
